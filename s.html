<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>My first three.js app</title>
		<style>
			body { margin: 0; }
		</style>
	</head>
	<body>
		<script src="three.js"></script>
		<script src="./node_modules/three/examples/js/loaders/GLTFLoader.js"></script>
		<script src="./node_modules/three/examples/js/controls/OrbitControls.js"></script>
		<script type="module" src="./node_modules/three/examples/jsm/loaders/RGBELoader.js"></script>
		
		<script type="module">
								
           import { RGBELoader } from './node_modules/three/examples/jsm/loaders/RGBELoader.js';
		   var scene,renderer
		   
		   function init(){
			scene = new THREE.Scene();
			window.camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );

			camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );
			camera.position.set(0, 3, 10);
			
			const ambient = new THREE.HemisphereLight(0xffffbb, 0x080820);
			scene.add(ambient);
			
			const light = new THREE.DirectionalLight(0xFFFFFF, 1);
			light.position.set( 1, 10, 6);
			scene.add(light);

			
			renderer = new THREE.WebGLRenderer({antialias: true});
			renderer.setSize( window.innerWidth, window.innerHeight );

			renderer.toneMapping = THREE.ACESFilmicToneMapping
			renderer.toneMappingExposure = 1.4
			renderer.outputEncoding = THREE.sRGBEndcoding

			document.body.appendChild( renderer.domElement );
			
			const controls = new THREE.OrbitControls( camera, renderer.domElement );
			controls.target.set(0,4,0);
			controls.update();

			new RGBELoader().load("env.hdr",function(texture){
				 texture.mapping = THREE.EquirectangularReflectionMapping;
				 scene.background = texture
				 scene.environment = texture
				})

			const loader = new THREE.GLTFLoader();
            loader.load( 'untitled.glb', function ( gltf ) {
				
                scene.add( gltf.scene );
				camera.lookAt( gltf );
				let Auditorio = model.scene
				Auditorio.position.y = 1.5;
            }, undefined, function ( error ) {

                console.error( error );

            } );
			camera.position.z = 5;
			renderer.render( scene, camera );
			 
  window.addEventListener( 'resize', resize, false);
  
  update();
}

function update(){
  requestAnimationFrame( update );
	renderer.render( scene, camera );
}

function resize(){
  camera.aspect = window.innerWidth / window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize( window.innerWidth, window.innerHeight );
}
init()
			
		</script>
	</body>
</html>